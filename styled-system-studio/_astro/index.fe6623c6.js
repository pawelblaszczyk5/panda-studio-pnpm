import{m as O,g as q,c as Y,w as k,i as v,a as Q,b as H,d as Z,e as ee,h as te,j as V,k as ne,t as re}from"./index.f669b601.js";var l=Symbol("@ts-pattern/matcher"),T="@ts-pattern/anonymous-select-key",C=function(e){return!!(e&&typeof e=="object")},b=function(e){return e&&!!e[l]},p=function e(t,n,r){if(C(t)){if(b(t)){var s=t[l]().match(n),i=s.matched,o=s.selections;return i&&o&&Object.keys(o).forEach(function(f){return r(f,o[f])}),i}if(!C(n))return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every(function(f,c){return e(f,n[c],r)});if(t instanceof Map)return n instanceof Map&&Array.from(t.keys()).every(function(f){return e(t.get(f),n.get(f),r)});if(t instanceof Set){if(!(n instanceof Set))return!1;if(t.size===0)return n.size===0;if(t.size===1){var a=Array.from(t.values())[0];return b(a)?Array.from(n.values()).every(function(f){return e(a,f,r)}):n.has(a)}return Array.from(t.values()).every(function(f){return n.has(f)})}return Object.keys(t).every(function(f){var c,d=t[f];return(f in n||b(c=d)&&c[l]().matcherType==="optional")&&e(d,n[f],r)})}return Object.is(n,t)},m=function e(t){var n,r,s;return C(t)?b(t)?(n=(r=(s=t[l]()).getSelectionKeys)==null?void 0:r.call(s))!=null?n:[]:Array.isArray(t)?w(t,e):w(Object.values(t),e):[]},w=function(e,t){return e.reduce(function(n,r){return n.concat(t(r))},[])};function N(e){var t;return(t={})[l]=function(){return{match:function(n){var r={},s=function(i,o){r[i]=o};return n===void 0?(m(e).forEach(function(i){return s(i,void 0)}),{matched:!0,selections:r}):{matched:p(e,n,s),selections:r}},getSelectionKeys:function(){return m(e)},matcherType:"optional"}},t}function z(e){var t;return(t={})[l]=function(){return{match:function(n){if(!Array.isArray(n))return{matched:!1};var r={};if(n.length===0)return m(e).forEach(function(i){r[i]=[]}),{matched:!0,selections:r};var s=function(i,o){r[i]=(r[i]||[]).concat([o])};return{matched:n.every(function(i){return p(e,i,s)}),selections:r}},getSelectionKeys:function(){return m(e)}}},t}function F(){var e,t=[].slice.call(arguments);return(e={})[l]=function(){return{match:function(n){var r={},s=function(i,o){r[i]=o};return{matched:t.every(function(i){return p(i,n,s)}),selections:r}},getSelectionKeys:function(){return w(t,m)},matcherType:"and"}},e}function D(){var e,t=[].slice.call(arguments);return(e={})[l]=function(){return{match:function(n){var r={},s=function(i,o){r[i]=o};return w(t,m).forEach(function(i){return s(i,void 0)}),{matched:t.some(function(i){return p(i,n,s)}),selections:r}},getSelectionKeys:function(){return w(t,m)},matcherType:"or"}},e}function K(e){var t;return(t={})[l]=function(){return{match:function(n){return{matched:!p(e,n,function(){})}},getSelectionKeys:function(){return[]},matcherType:"not"}},t}function h(e){var t;return(t={})[l]=function(){return{match:function(n){return{matched:!!e(n)}}}},t}function _(){var e,t=[].slice.call(arguments),n=typeof t[0]=="string"?t[0]:void 0,r=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return(e={})[l]=function(){return{match:function(s){var i,o=((i={})[n??T]=s,i);return{matched:r===void 0||p(r,s,function(a,f){o[a]=f}),selections:o}},getSelectionKeys:function(){return[n??T].concat(r===void 0?[]:m(r))}}},e}var J=h(function(e){return!0}),se=J,ie=h(function(e){return typeof e=="string"}),oe=h(function(e){return typeof e=="number"}),ae=h(function(e){return typeof e=="boolean"}),fe=h(function(e){return typeof e=="bigint"}),ce=h(function(e){return typeof e=="symbol"}),ue=h(function(e){return e==null}),u={__proto__:null,optional:N,array:z,intersection:F,union:D,not:K,when:h,select:_,any:J,_:se,string:ie,number:oe,boolean:ae,bigint:fe,symbol:ce,nullish:ue,instanceOf:function(e){return h(function(t){return function(n){return n instanceof t}}(e))},typed:function(){return{array:z,optional:N,intersection:F,union:D,not:K,select:_,when:h}}};function W(e){return new le(e,[])}var le=function(){function e(n,r){this.value=void 0,this.cases=void 0,this.value=n,this.cases=r}var t=e.prototype;return t.with=function(){var n=[].slice.call(arguments),r=n[n.length-1],s=[n[0]],i=[];return n.length===3&&typeof n[1]=="function"?(s.push(n[0]),i.push(n[1])):n.length>2&&s.push.apply(s,n.slice(1,n.length-1)),new e(this.value,this.cases.concat([{match:function(o){var a={},f=!!(s.some(function(c){return p(c,o,function(d,y){a[d]=y})})&&i.every(function(c){return c(o)}));return{matched:f,value:f&&Object.keys(a).length?T in a?a[T]:a:o}},handler:r}]))},t.when=function(n,r){return new e(this.value,this.cases.concat([{match:function(s){return{matched:!!n(s),value:s}},handler:r}]))},t.otherwise=function(n){return new e(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:n}])).run()},t.exhaustive=function(){return this.run()},t.run=function(){for(var n=this.value,r=void 0,s=0;s<this.cases.length;s++){var i=this.cases[s],o=i.match(this.value);if(o.matched){n=o.value,r=i.handler;break}}if(!r){var a;try{a=JSON.stringify(this.value)}catch{a=this.value}throw new Error("Pattern matching error: no pattern matches value "+a)}return r(n,this.value)},e}();function R(){var e=[].slice.call(arguments);if(e.length===1){var t=e[0];return function(n){return p(t,n,function(){})}}if(e.length===2)return p(e[0],e[1],function(){});throw new Error("isMatching wasn't given the right number of arguments: expected 1 or 2, received "+e.length+".")}var X=/(\$[^\s,]+\w)|({([^}]*)})/g,he=/[{}]/g;function A(e){if(typeof e!="string")return[];const t=e.match(X);return t?t.map(n=>n.replace(he,"")).map(n=>n.trim()):[]}function ge(e){return X.test(e)}function pe(e){const t={};return e.forEach((n,r)=>{n instanceof Map?t[r]=Object.fromEntries(n):t[r]=n}),t}var $=e=>H(e)&&"value"in e;function G(e){if(!$(e))throw new Error(`Invalid token format: ${JSON.stringify(e)}`)}var E=class I{name;value;originalValue;path;type;description;extensions;constructor(t){this.name=t.name,this.value=t.value,this.originalValue=t.value,this.path=t.path??[],t.type&&(this.type=t.type),t.description&&(this.description=t.description),this.extensions=t.extensions??{},this.extensions.condition=t.extensions?.condition??"base",this.setType()}get id(){return Z(`${this.name}-${this.extensions.condition}-${this.value}`)}get isConditional(){return!!this.extensions?.conditions}get hasReference(){return!!this.extensions?.references}get isComposite(){return H(this.originalValue)||Array.isArray(this.originalValue)}expandReferences(){if(!this.hasReference)return this.value;const t=this.extensions.references??{};return this.value=Object.keys(t).reduce((n,r)=>{const s=t[r];if(s.isConditional)return n;const i=s.expandReferences();return n.replace(`{${r}}`,i)},this.value),delete this.extensions.references,this.value}get isReference(){return ge(this.originalValue)}get references(){return A(this.originalValue)}clone(){return new I({name:this.name,value:this.value,type:this.type,path:[...this.path],description:this.description,extensions:P(this.extensions)})}getConditionTokens(){if(!this.isConditional)return;const t=this.extensions.conditions??{},n=[];return k(t,(r,s)=>{const i=s.filter(a=>!ee(a));if(!i.length)return;const o=this.clone();o.value=r,o.extensions.condition=i.join(":"),n.push(o)}),n}setExtensions(t){return this.extensions={...this.extensions,...t},this.setType(),this}setType(){this.type||this.extensions.category&&(this.type=de[this.extensions.category])}};function P(e){return e instanceof E?e.clone():Array.isArray(e)?e.map(t=>P(t)):typeof e=="object"&&e!==null?Object.fromEntries(Object.entries(e).map(([t,n])=>[t,P(n)])):e}var de={colors:"color",spacing:"dimension",sizing:"dimension",shadows:"shadow",fonts:"fontFamily",fontSizes:"fontSize",fontWeights:"fontWeight",letterSpacings:"letterSpacing",durations:"duration",transitions:"transition",radii:"borderRadius",gradients:"gradient",easings:"cubicBezier",borders:"border",components:"cti",assets:"asset"};function me(e){return e?{breakpoints:te(e,t=>({value:t})),sizes:Object.fromEntries(Object.entries(e).map(([t,n])=>[`breakpoint-${t}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function U(e){return e[0]==="DEFAULT"?e:e.filter(t=>t!=="DEFAULT")}var ve=class{allTokens=[];prefix;hash;get allNames(){return Array.from(new Set(this.allTokens.map(e=>e.name)))}constructor(e){const{tokens:t={},semanticTokens:n={},breakpoints:r,prefix:s,hash:i}=e,o=me(r),a=Y({...t,breakpoints:o.breakpoints,sizes:{...t.sizes,...o.sizes}});this.prefix=s,this.hash=i,k(a,(f,c)=>{c=U(c),G(f);const d=c[0],y=c.join("."),x=new E({...f,name:y,path:c});x.setExtensions({category:d,prop:c.slice(1).join(".")}),this.allTokens.push(x)},{stop:$}),k(n,(f,c)=>{c=U(c),G(f);const d=c[0],y=c.join("."),x=v(f.value)?{value:{base:f.value}}:f,{value:M,...L}=x,B=new E({...L,name:y,value:M.base||"",path:c});B.setExtensions({category:d,conditions:M,prop:c.slice(1).join(".")}),this.allTokens.push(B)},{stop:$})}getByName=Q(e=>{for(const t of this.allTokens)if(t.name===e)return t});transforms=new Map;registerTransform(...e){return e.forEach(t=>{t.type||="value",t.enforce||="pre",this.transforms.set(t.name,t)}),this}execTransform(e){const t=this.transforms.get(e);t&&this.allTokens.forEach(n=>{if(n.extensions.hasReference||typeof t.match=="function"&&!t.match(n))return;const r=t.transform(n,{prefix:this.prefix,hash:this.hash});W(t).with({type:"extensions"},()=>{n.setExtensions(r)}).with({type:"value"},()=>{n.value=r,n.isComposite&&(n.originalValue=r)}).otherwise(()=>{n[t.type]=r})})}transformTokens(e){return this.transforms.forEach(t=>{t.enforce===e&&this.execTransform(t.name)}),this}middlewares=[];registerMiddleware(...e){for(const t of e)t.enforce||="pre",this.middlewares.push(t);return this}applyMiddlewares(e){this.middlewares.forEach(t=>{t.enforce===e&&t.transform(this,{prefix:this.prefix})})}getReferences(e){return A(e).map(n=>this.getByName(n)).filter(Boolean)}usesReference(e){return v(e)?this.getReferences(e).length>0:!1}addReferences(){return this.allTokens.forEach(e=>{if(!this.usesReference(e.value))return;const t=this.getReferences(e.value);e.setExtensions({references:t.reduce((n,r)=>(n[r.name]=r,n),{})})}),this}filter(e){const t=typeof e=="function"?e:R(e);return this.allTokens.filter(t)}addConditionalTokens(){const e=[];return this.allTokens.forEach(t=>{e.push(t);const n=t.getConditionTokens();n&&n.length>0&&e.push(...n)}),this.allTokens=e,this}expandReferences(){return this.allTokens.forEach(e=>{e.expandReferences()}),this}build(){this.applyMiddlewares("pre"),this.transformTokens("pre"),this.addConditionalTokens(),this.addReferences(),this.expandReferences(),this.applyMiddlewares("post"),this.transformTokens("post")}get isEmpty(){return this.allTokens.length===0}},g={groupByCondition(e){const t=new Map;return e.allTokens.forEach(n=>{const{condition:r}=n.extensions;r&&(t.get(r)||t.set(r,new Set),t.set(r,t.get(r).add(n)))}),t},groupByColorPalette(e){const t=new Map;return e.allTokens.forEach(n=>{const{colorPalette:r}=n.extensions;if(!r||n.extensions.isVirtual)return;t.get(r)||t.set(r,new Map);const s=n.name.replace(r,"colorPalette"),i=e.getByName(s);if(!i)return;const o=i.extensions.var;t.get(r).set(o,n.extensions.varRef)}),t},groupByCategory(e){const t=new Map;return e.allTokens.forEach(n=>{const{category:r,prop:s}=n.extensions;r&&(t.get(r)||t.set(r,new Map),t.set(r,t.get(r).set(s,n)))}),t},getFlattenedValues(e){const t=g.groupByCategory(e),n=new Map;return t.forEach((r,s)=>{n.get(s)||n.set(s,new Map),r.forEach(i=>{const{prop:o,varRef:a,isNegative:f}=i.extensions,c=f?i.isConditional?i.originalValue:i.value:a;n.set(s,n.get(s).set(o,c))})}),n},getVars(e){const t=g.groupByCondition(e),n=new Map;return t.forEach((r,s)=>{n.get(s)||n.set(s,new Map),r.forEach(i=>{i.extensions.isNegative||n.get(s).set(i.extensions.var,i.value)})}),n},createVarGetter(e){const t=pe(g.getFlattenedValues(e));return function(r,s){return q(t,r,s)}},getColorPaletteValues(e){const t=new Set;return e.allTokens.forEach(n=>{const{colorPalette:r}=n.extensions;!r||n.extensions.isVirtual||t.add(r)}),t}},ye={enforce:"pre",transform(e,{prefix:t,hash:n}){e.filter({extensions:{category:"spacing"}}).forEach(s=>{const i=[...s.path],o=V(i.join("-"),{prefix:t,hash:n});if(s.value==="0rem")return;const a=s.clone();a.setExtensions({isNegative:!0,prop:`-${s.extensions.prop}`,originalPath:i}),a.value=ne.negate(o);const f=a.path.at(-1);f!=null&&(a.path[a.path.length-1]=`-${f}`),a.path&&(a.name=a.path.join(".")),e.allTokens.push(a)})}},we=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),xe={enforce:"post",transform(e){e.filter(n=>we.has(n.extensions.category)&&!n.extensions.isNegative).forEach(n=>{n.setExtensions({pixelValue:re(n.value)})})}},be={enforce:"post",transform(e){const t=e.filter({extensions:{category:"colors"}}),n=new Set,r=new Map;t.forEach(s=>{const{colorPalette:i}=s.extensions;if(!i)return;const o=r.get(i)||[];n.add(s.path.at(-1)),o.push(s),r.set(i,o)}),n.forEach(s=>{const i=new E({name:`colors.colorPalette.${s}`,value:`{colors.colorPalette.${s}}`,path:["colors","colorPalette",s]});i.setExtensions({category:"colors",prop:`colorPalette.${s}`,isVirtual:!0}),e.allTokens.push(i)}),e.transformTokens("pre")}},Te={enforce:"post",transform(e){e.allTokens=e.allTokens.filter(t=>t.value!=="")}},Ee=[ye,be,Te,xe],j={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},S={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function je(e){return e.trim().replace(S.whitespace," ")}function ke(e){return encodeURIComponent(e).replace(S.urlHexPairs,$e)}function Ce(e){return Ve(j).forEach(t=>{j[t].test(e)&&(e=e.replace(j[t],t))}),e}function $e(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function Pe(e){if(typeof e!="string")throw new TypeError("Expected a string, but received "+typeof e);e.charCodeAt(0)===65279&&(e=e.slice(1));const t=Ce(je(e)).replace(S.quotes,"'");return"data:image/svg+xml,"+ke(t)}var Ve=e=>Object.keys(e),Re=R({inset:u.optional(u.boolean),offsetX:u.number,offsetY:u.number,blur:u.number,spread:u.number,color:u.string}),Ae={name:"tokens/shadow",match:e=>e.extensions.category==="shadows",transform(e,{prefix:t}){if(v(e.value))return e.value;if(Array.isArray(e.value))return e.value.map(n=>this.transform({value:n},{prefix:t})).join(", ");if(Re(e.value)){const{offsetX:n,offsetY:r,blur:s,spread:i,color:o,inset:a}=e.value;return`${a?"inset ":""}${n}px ${r}px ${s}px ${i}px ${o}`}return e.value}},Se=R({type:u.string,placement:u.string,stops:u.union(u.array(u.string),u.array({color:u.string,position:u.number}))}),Me={name:"tokens/gradient",match:e=>e.extensions.category==="gradients",transform(e){if(v(e.value))return e.value;if(Se(e.value)){const{type:t,stops:n,placement:r}=e.value,s=n.map(i=>{if(v(i))return i;const{color:o,position:a}=i;return`${o} ${a}px`});return`${t}-gradient(${r}, ${s.join(", ")})`}return e.value}},Be={name:"tokens/fonts",match:e=>e.extensions.category==="fonts",transform(e){return Array.isArray(e.value)?e.value.join(", "):e.value}},Oe={name:"tokens/easings",match:e=>e.extensions.category==="easings",transform(e){return v(e.value)?e.value:`cubic-bezier(${e.value.join(", ")})`}},Ne={name:"tokens/borders",match:e=>e.extensions.category==="borders",transform(e){if(v(e.value))return e.value;const{width:t,style:n,color:r}=e.value;return`${t}px ${n} ${r}`}},ze={name:"tokens/assets",match:e=>e.extensions.category==="assets",transform(e){const t=e.value;return W(t).with(u.string,n=>n).with({type:"url"},({value:n})=>`url(${n})`).with({type:"svg"},({value:n})=>`url(${Pe(n)})`).exhaustive()}},Fe={type:"extensions",name:"tokens/css-var",transform(e,{prefix:t,hash:n}){const{isNegative:r,originalPath:s}=e.extensions,i=r?s:e.path,o=V(i.join("-"),{prefix:t,hash:n});return{var:o.var,varRef:o.ref}}},De={enforce:"post",name:"tokens/conditionals",transform(e,{prefix:t,hash:n}){const r=A(e.value);return r.length&&r.forEach(s=>{const i=V(s.split(".").join("-"),{prefix:t,hash:n}).ref;e.value=e.value.replace(`{${s}}`,i)}),e.value}};function Ke(e){if(e.includes("colorPalette"))return"";const t=[...e];return t.pop(),t.shift(),t.join(".")}var _e={type:"extensions",name:"tokens/colors/colorPalette",match(e){return e.extensions.category==="colors"},transform(e){return{colorPalette:Ke(e.path)}}},Ge=[Ae,Me,Be,Oe,Ne,ze,Fe,De,_e],qe=class extends ve{constructor(e){super(e),this.registerTransform(...Ge),this.registerMiddleware(...Ee),this.build()}get get(){return g.createVarGetter(this)}get conditionMap(){return g.groupByCondition(this)}get categoryMap(){return g.groupByCategory(this)}get values(){return g.getFlattenedValues(this)}get colorPalettes(){return O(g.groupByColorPalette(this))}get vars(){return g.getVars(this)}getValue(e){const t=this.values.get(e);if(t!=null)return Object.fromEntries(t)}getTokenVar(e){const t=O(this.values);return q(t,e)}};export{qe as T};
