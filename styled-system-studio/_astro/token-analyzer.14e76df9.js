import{c as U,a as X,b as q,q as J,f as Q,l as Y,n as Z,p as ee,d as j,i as te,g as se,e as ne,h as oe,r as re,t as F,j as ie,k as ae,w as le,m as ce,u as de,o as ue,s as ge,v as I,x as pe,y as C,z as N,A as me,B as c,T as he,C as A,D as G,E as xe,F as fe,P,G as je,H as ve,I as f,S as L,J as R,K as W,L as D,M as B,N as h,O as M,Q as be,R as ye,U as Te,V as Se,W as Ie}from"./token-search-combobox.37a6d974.js";import{S as Ce,s as Ne}from"./stack.809b5254.js";import{B as Oe,C as K,S as ke}from"./color-item.ae5df3cc.js";import{r as H}from"./index.03be2d59.js";import{j as e,c as v,p as a,a as $}from"./jsx-runtime.5e1c725e.js";import{S as Ae}from"./select-label.3316d13b.js";import{W as S}from"./wrap.e25e874e.js";import"./index.fe6623c6.js";import"./index.f669b601.js";import"./icons.197eee5d.js";import"./input.4a1acd09.js";import"./flex.97e9d549.js";import"./index.840e397f.js";import"./grid.0eee2e42.js";import"./color-wrapper.907c2de7.js";const[Pe,E]=U({name:"AccordionContext",hookName:"useAccordionContext",providerName:"<AccordionProvider />"}),Re=X("accordion").parts("root","item","trigger","content"),T=Re.build(),l=q({getRootId:t=>t.ids?.root??`accordion:${t.id}`,getItemId:(t,n)=>t.ids?.item?.(n)??`accordion:${t.id}:item:${n}`,getContentId:(t,n)=>t.ids?.content?.(n)??`accordion:${t.id}:content:${n}`,getTriggerId:(t,n)=>t.ids?.trigger?.(n)??`accordion:${t.id}:trigger:${n}`,getRootEl:t=>l.getById(t,l.getRootId(t)),getTriggers:t=>{const s=`[aria-controls][data-ownedby='${CSS.escape(l.getRootId(t))}']:not([disabled])`;return J(l.getRootEl(t),s)},getFirstTriggerEl:t=>Q(l.getTriggers(t)),getLastTriggerEl:t=>Y(l.getTriggers(t)),getNextTriggerEl:(t,n)=>Z(l.getTriggers(t),l.getTriggerId(t,n)),getPrevTriggerEl:(t,n)=>ee(l.getTriggers(t),l.getTriggerId(t,n))});function Ee(t,n){const s=t.context.focusedValue,o=t.context.value,r=t.context.multiple;function i(u){let g=u;r&&!Array.isArray(g)&&(g=[g]),n({type:"VALUE.SET",value:g})}function d(u){return{isOpen:Array.isArray(o)?o.includes(u.value):u.value===o,isFocused:s===u.value,isDisabled:!!(u.disabled??t.context.disabled)}}return{focusedValue:s,value:o,setValue:i,getItemState:d}}function Fe(t,n,s){const o=Ee(t,n);return{...o,rootProps:s.element({...T.root.attrs,id:l.getRootId(t.context)}),getItemProps(r){const{isOpen:i,isFocused:d}=o.getItemState(r);return s.element({...T.item.attrs,id:l.getItemId(t.context,r.value),"data-expanded":j(i),"data-focus":j(d)})},getContentProps(r){const{isOpen:i,isFocused:d,isDisabled:u}=o.getItemState(r);return s.element({...T.content.attrs,role:"region",id:l.getContentId(t.context,r.value),"aria-labelledby":l.getTriggerId(t.context,r.value),hidden:!i,"data-disabled":j(u),"data-focus":j(d),"data-expanded":j(i)})},getTriggerProps(r){const{value:i}=r,d=o.getItemState(r);return s.button({...T.trigger.attrs,type:"button",id:l.getTriggerId(t.context,i),"aria-controls":l.getContentId(t.context,i),"aria-expanded":d.isOpen,disabled:d.isDisabled,"aria-disabled":d.isDisabled,"data-expanded":j(d.isOpen),"data-ownedby":l.getRootId(t.context),onFocus(){d.isDisabled||n({type:"TRIGGER.FOCUS",value:i})},onBlur(){d.isDisabled||n("TRIGGER.BLUR")},onClick(u){d.isDisabled||(te()&&u.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:i}))},onKeyDown(u){if(d.isDisabled)return;const g={ArrowDown(){t.context.isHorizontal||n({type:"GOTO.NEXT",value:i})},ArrowUp(){t.context.isHorizontal||n({type:"GOTO.PREV",value:i})},ArrowRight(){t.context.isHorizontal&&n({type:"GOTO.NEXT",value:i})},ArrowLeft(){t.context.isHorizontal&&n({type:"GOTO.PREV",value:i})},Home(){n({type:"GOTO.FIRST",value:i})},End(){n({type:"GOTO.LAST",value:i})}},b=se(u,{dir:t.context.dir,orientation:t.context.orientation}),p=g[b];p&&(p(u),u.preventDefault())}})}}}const{and:Ve,not:ze}=ce,we="[accordion/invalid-value] Expected value for multiple accordion to be an 'array' but received 'string'. Value will be coarsed to 'array'";function Ue(t){const n=ne(t);return oe({id:"accordion",initial:"idle",context:{focusedValue:null,value:null,collapsible:!1,multiple:!1,orientation:"vertical",...n},watch:{value:"sanitizeValue",multiple:"sanitizeValue"},created:"sanitizeValue",computed:{isHorizontal:s=>s.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue","invokeOnChange"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNext"},"GOTO.PREV":{actions:"focusPrev"},"TRIGGER.CLICK":[{guard:Ve("isExpanded","canToggle"),actions:["collapse","invokeOnChange"]},{guard:ze("isExpanded"),actions:["expand","invokeOnChange"]}],"GOTO.FIRST":{actions:"focusFirst"},"GOTO.LAST":{actions:"focusLast"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:s=>!!s.collapsible||!!s.multiple,isExpanded:(s,o)=>s.multiple&&Array.isArray(s.value)?s.value.includes(o.value):s.value===o.value},actions:{invokeOnChange(s){s.onChange?.({value:s.value})},collapse(s,o){s.value=s.multiple?re(F(s.value),o.value):null},expand(s,o){s.value=s.multiple?ie(F(s.value),o.value):o.value},focusFirst(s){l.getFirstTriggerEl(s)?.focus()},focusLast(s){l.getLastTriggerEl(s)?.focus()},focusNext(s){if(!s.focusedValue)return;l.getNextTriggerEl(s,s.focusedValue)?.focus()},focusPrev(s){if(!s.focusedValue)return;l.getPrevTriggerEl(s,s.focusedValue)?.focus()},setFocusedValue(s,o){s.focusedValue=o.value},clearFocusedValue(s){s.focusedValue=null},setValue(s,o){s.value=o.value},sanitizeValue(s){s.multiple&&ae(s.value)?(le(we),s.value=[s.value]):!s.multiple&&Array.isArray(s.value)&&s.value.length>0&&(s.value=s.value[0])}}})}const Ge=t=>{const n=de(),s={id:H.useId(),getRootNode:n,...t,value:t.defaultValue},o={...s,value:t.value},[r,i]=ue(Ue(s),{context:o});return Fe(r,i,ge)},Le=I((t,n)=>{const[s,o]=pe()(t,["collapsible","defaultValue","dir","disabled","getRootNode","id","ids","multiple","onChange","value","orientation"]),r=Ge(s),i=C(r.rootProps,o);return e.jsx(Pe,{value:r,children:e.jsx(N.div,{...i,ref:n})})}),[We,_]=U({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItemProvider />"}),De=I((t,n)=>{const{getContentProps:s}=E(),o=_(),r=C(s(o),t);return e.jsx(N.div,{...r,ref:n})}),Be=I((t,n)=>{const{value:s,disabled:o,children:r,...i}=t,{getItemProps:d,getItemState:u}=E(),g=u({value:s}),b=C(d({value:s,disabled:o}),i),p=me(r,g);return e.jsx(We,{value:{value:s,disabled:o,...g},children:e.jsx(N.div,{...b,ref:n,children:p})})}),Me=I((t,n)=>{const{getTriggerProps:s}=E(),o=_(),r=C(s(o),t);return e.jsx(N.button,{...r,ref:n})});function ut(){return e.jsx("div",{className:v({width:"100%",py:"20px",debug:!1}),children:e.jsxs(a.div,{px:"24",w:"100%",children:[e.jsx(He,{}),e.jsx(he,{}),e.jsx($e,{}),e.jsx(Xe,{}),e.jsx(Oe,{byCategory:c.details.globalMaps.byCategory}),e.jsx(qe,{})]})})}const[O,k]=c.stats.mostUseds.instanceOfKinds,y=Object.values(c.details.byId),V=y.filter(t=>String(t.value).endsWith("!")),Ke=y.filter(t=>t.isKnown),z=y.length-Ke.length,w=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:2,style:"percent"}),He=()=>e.jsxs(Ce,{mb:"4",direction:"column",align:"center",p:"20px",fontSize:"lg",children:[e.jsxs("div",{children:[e.jsx(a.span,{fontSize:"xl",fontWeight:"bold",children:Object.keys(c.details.byId).length})," ","token usage including"," ",e.jsx(a.span,{fontSize:"xl",fontWeight:"bold",children:e.jsx(a.a,{className:A({}),href:G({category:"colors"}),children:c.counts.colorsUsed})})," ","colors found in"," ",e.jsx(a.span,{fontSize:"xl",fontWeight:"bold",children:c.counts.filesWithTokens})," ","files"]}),e.jsxs(a.div,{fontSize:"md",children:["with"," ",e.jsxs(xe,{openDelay:0,closeDelay:100,positioning:{placement:"bottom-start",gutter:20},children:[e.jsx(fe,{children:e.jsxs("span",{children:[e.jsx(a.span,{fontSize:"lg",fontWeight:"bold",children:c.fileSizes.gzip.minified})," ","KB corresponding CSS generated (min+gzip)"]})}),e.jsx(P,{children:e.jsx(je,{children:e.jsx(ve,{children:e.jsxs(a.span,{p:"2",bg:"gray.100",border:"1px solid rgba(0, 0, 0, 0.1)",rounded:"md",children:[e.jsx(a.span,{fontSize:"lg",fontWeight:"bold",children:c.fileSizes.normal})," ","(unmin+uncompressed)"]})})})})]})]}),O&&e.jsxs(a.div,{fontSize:"md",children:[e.jsx("span",{children:"Mostly "}),e.jsx(f,{display:"inline-block",count:O.count,children:O.key==="function"?"using functions":"using style props"}),k&&e.jsxs(e.Fragment,{children:[", and others"," ",e.jsxs(f,{display:"inline-block",count:k.count,children:[k.key==="function"?"using functions":"using style props","."]})]})]}),e.jsx(a.div,{fontSize:"sm",children:e.jsxs("span",{children:["With"," ",e.jsx(a.span,{fontSize:"md",fontWeight:"bold",children:z})," ","unknown token values (",e.jsx(a.span,{fontSize:"md",fontWeight:"bold",children:w.format(z/y.length)}),") and"," ",e.jsx(a.span,{fontSize:"md",fontWeight:"bold",children:V.length})," ","values marked as important (",e.jsx(a.span,{fontSize:"md",fontWeight:"bold",children:w.format(V.length/y.length)}),")"]})})]}),m=v({padding:"4px 8px",bg:"card",rounded:"md","& li":{cursor:"pointer",_hover:{opacity:.8}}}),$e=()=>e.jsx(e.Fragment,{children:e.jsx(L,{defaultValue:{label:"tokens",value:"tokens"},children:({selectedOption:t})=>e.jsxs(R,{title:e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:"Top 10 "}),e.jsx(W,{children:e.jsx("button",{children:t?.label})})]}),bg:"card",children:[_e[t?.value],e.jsx(e.Fragment,{children:e.jsx(P,{children:e.jsx(D,{children:e.jsxs(B,{className:$(m,v({listStyle:"none"})),children:[e.jsx(h,{className:m,value:"tokens",label:"tokens"}),e.jsx(h,{className:m,value:"properties",label:"properties"}),e.jsx(h,{className:m,value:"categories",label:"categories"}),e.jsx(h,{className:m,value:"conditions",label:"conditions"}),e.jsx(h,{className:m,value:"propertyPaths",label:"property paths"}),e.jsx(h,{className:m,value:"shorthands",label:"shorthands"}),e.jsx(h,{className:m,value:"instances",label:"instances"}),e.jsx(h,{className:m,value:"types",label:"types"})]})})})})]})})}),x=({entries:t})=>e.jsx(S,{gap:"4",fontSize:"sm",children:t.map(({key:n,count:s})=>e.jsx(a.a,{className:A({}),href:G({value:n}),children:e.jsx(f,{count:s,children:n})},n))}),_e={tokens:e.jsx(x,{entries:c.stats.mostUseds.tokens}),properties:e.jsx(x,{entries:c.stats.mostUseds.propNames}),shorthands:e.jsx(x,{entries:c.stats.mostUseds.shorthands}),categories:e.jsx(x,{entries:c.stats.mostUseds.categories}),conditions:e.jsx(x,{entries:c.stats.mostUseds.conditions}),propertyPaths:e.jsx(x,{entries:c.stats.mostUseds.propertyPaths}),instances:e.jsx(x,{entries:c.stats.mostUseds.instanceNames}),types:e.jsx(x,{entries:c.stats.mostUseds.types})},Xe=()=>e.jsx(R,{title:e.jsx(f,{count:c.stats.mostUseds.colors.length,children:"Color palette"}),bg:"card",children:e.jsx(S,{gap:"2",fontSize:"sm",children:c.stats.mostUseds.colors.map(({key:t,count:n})=>e.jsx(K,{tokenName:t,py:"2",px:"4",transition:"all 0.2s ease",rounded:"md",_hover:{bgColor:"border"},children:e.jsx(f,{count:n,children:e.jsx(M,{text:t})})},t))})}),qe=()=>{const t=Object.entries(c.details.byFilepath),[n,s]=H.useState("file path"),o=t.sort((r,i)=>n==="name"?r[0].localeCompare(i[0]):n==="tokens count"?i[1].length-r[1].length:0);return e.jsx(R,{p:"0",title:e.jsx(f,{count:o.length,children:"Files"}),subTitle:e.jsx(a.div,{ml:"auto",children:e.jsx(L,{onChange:r=>s(r?.value??"file path"),children:({selectedOption:r})=>e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsxs(a.button,{display:"flex",alignItems:"center",cursor:"pointer",_hover:{opacity:.6},children:["Sort by ",r?.label,e.jsx(a.div,{w:"5",ml:"2",color:"text",children:e.jsx(ke,{})})]})}),e.jsx(P,{children:e.jsx(D,{children:e.jsxs(B,{className:$(m,v({listStyle:"none"})),children:[e.jsx(h,{className:m,value:"name",label:"name"}),e.jsx(h,{className:m,value:"tokens count",label:"tokens count"}),e.jsx(h,{className:m,value:"file path",label:"file path"})]})})})]})})}),children:e.jsx(Le,{className:Ne({gap:"2",px:"2",fontSize:"sm",width:"full"}),multiple:!0,children:o.map(([r,i])=>{const d=i.map(be),u=c.details.byFilePathMaps[r],g=Object.entries(u.colorsUsed);return e.jsx(Be,{value:r,className:v({width:"full",rounded:"md",bg:"card",_hover:{opacity:"0.8"},cursor:"pointer"}),children:b=>e.jsxs(e.Fragment,{children:[e.jsx(Me,{asChild:!0,children:e.jsxs(a.button,{display:"flex",bg:"none",w:"full",pt:"6",pl:"6",pr:"4",cursor:"pointer",color:"text",children:[e.jsx(a.a,{className:A({}),href:ye({filepath:r}),onClick:p=>p.stopPropagation(),children:e.jsx(f,{count:i.length,children:Te(r)},r)}),e.jsxs(a.div,{ml:"auto",mb:"4",children:[e.jsx(a.span,{fontWeight:"bold",children:d.length})," utilities and"," ",e.jsx(a.span,{fontWeight:"bold",children:Object.keys(u.colorsUsed).length})," colors used"]}),e.jsx(a.span,{ml:"2",children:b.isOpen?"▲":"▼"})]})}),e.jsxs(De,{className:v({p:"6",cursor:"default"}),children:[e.jsxs(a.div,{children:[e.jsx(a.h5,{children:"Utilities"}),e.jsx(S,{gap:"2",mt:"4",children:d.map(p=>e.jsx(Se,{...Ie(p,["value","propName","filepath"])},p.id))})]}),g.length?e.jsxs(a.div,{mt:"8",children:[e.jsx(a.h5,{children:e.jsx(f,{count:g.length,children:"Color palette"})}),e.jsx(S,{gap:"2",mt:"4",children:g.map(([p])=>e.jsx(K,{tokenName:p,py:"2",px:"4",transition:"all 0.2s ease",_hover:{bg:"border"},rounded:"md",children:e.jsx(M,{text:p})},p))})]}):null]})]})},r)})})})};export{ut as TokenAnalyzer};
